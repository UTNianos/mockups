<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">    
		<meta name="description" content="">
		<meta name="author" content="Rulo">
		<link rel="icon" href="favicon.ico">

		<title>Seguidor</title>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- Bootstrap core CSS -->
		<link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">
		
		<!-- CSS de la aplicación -->
		<link rel="stylesheet" href="css/seguidor.css" />
				
		<!-- Font Awesome -->
		<link href="css/font-awesome/css/font-awesome.min.css" rel="stylesheet">	
		
		<!-- Jquery -->
		<script src="js/jquery.js"></script>

		<!-- Bootstrap JS -->
		<script src="js/bootstrap/bootstrap.min.js"></script>	
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.16/browser.js"></script>    
				
		<script type="text/babel">

		// Materias
		var subjects = 
		[
			{id: 1, name: "Análisis Matemático", status: 2},
			{id: 2, name: "Algebra y Gometría Analítica", status: 1},
			{id: 3, name: "Matemática Discreta", status: 1},
			{id: 4, name: "Algoritmos y Estructura de Datos", status: 1},
			{id: 5, name: "Arquitectura de Computadores", status: 1},
			{id: 6, name: "Sistemas y Organizaciones", status: 1},
			{id: 7, name: "Quimica", status: 1},
			{id: 8, name: "Ingenieria y Sociedad", status: 1}
		];

		// Estados posibles de materias
		var subjectStatuses = 
		[
			{id:1, value: 1, text: "Pendiente"},
			{id:2, value: 2, text: "Cursando"},
			{id:3, value: 3, text: "Firmada"},
			{id:4, value: 4, text: "Aprobada"}
		];
			
		var StatusDropdown = React.createClass({
		  
		  render: function() {
			
			var selectValue = this.props.selectValue;
			var selectClass = "form-control input-sm materia-status";
			var statusNodes = this.props.data.map(function(status, selected) {			  
			  return (			  			  			  		  			  
              <option key={status.id} value={status.value}>{status.text}</option>
			  );
			});
			
			return (
			<select value={selectValue} className={selectClass}>
			  {statusNodes}							
			</select>
			);
		  }		
		});
		
		var Subject = React.createClass({
		  		  		
		  render: function() {        			
			return (			
			<div className="materia-div" key={this.props.id} id={this.props.id}>				
				<span className="materia-nombre">{this.props.name}</span>
				<span className="materia-dropdown">
					<StatusDropdown data={subjectStatuses} selectValue={this.props.status} />
				</span>
				<span className="materia-info">
					<i className="fa fa-usb" aria-hidden="true"></i>
				</span>
			</div>						 
			);
		  }
		});		
		
		var SubjectList = React.createClass({
		  
		  render: function() {
			var subjectNodes = this.props.data.map(function(subject) {
			  return (
				<Subject id={subject.id} name={subject.name} status={subject.status} />
			  );
			});
			
			return (
			  <div className="materias-list">
				{subjectNodes}
			  </div>
			);
		  }
		});
		
		ReactDOM.render(
			<SubjectList data={subjects} />,
			document.getElementById('materias-group')
		);		
		</script>			
		
	</head>

	<body>			
		<h1>Seguidor carrera sin drogas.</h1>	
		<br />
		<div id="materias-group"></div>		
  </body>
</html>
